<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Philadelphia Open Innovation Tournament 2025</title>

<style>
:root{
  --bg:#fafafa;--card:#fff;--card-light:#f3f5f7;--text:#1c1c1e;--muted:#6e6e73;
  --accent:#007aff;--accent-hover:#0065d6;
  --cta:#28a745;--cta-hover:#1f8e39;
  --radius:14px;--shadow:0 8px 22px rgb(0 0 0 /.06);
  --gap:clamp(.9rem,4vw,1.8rem);--maxw:920px;
  --fs-hero:clamp(1.9rem,6.5vw,2.7rem);
  --fs-h2:clamp(1.3rem,3vw,1.65rem);--fs-h3:1rem;
  --section-spacing: 1.2rem;
  --list-item-spacing: 0.4rem;
}
/* reset & base */
*,*::before,*::after{box-sizing:border-box}
html,body{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif}
body{background:#fff;color:var(--text);font-size:16px;line-height:1.55;-webkit-font-smoothing:antialiased;overflow-wrap:anywhere}
/* Fix for background to extend to the bottom */
html, body {
  height: 100%;
}
main{
  background:var(--bg);
  padding-top:2rem;
  min-height: calc(100% - 235px); /* Adjust if needed to account for header height */
}
@media(max-width:500px){body{font-size:15px}}
img,iframe{max-width:100%;display:block;border-radius:var(--radius)}
a{color:var(--accent);text-decoration:none}a:hover{text-decoration:underline}

/* layout */
.wrapper{max-width:var(--maxw);margin-inline:auto;padding-inline:var(--gap)}
.card{background:var(--card);border-radius:var(--radius);padding:1.8rem var(--gap);box-shadow:var(--shadow);transition:transform .25s;margin-bottom:2rem;}
h2{font-size:var(--fs-h2);margin:0 0 0.8rem;font-weight:700}
h3{font-size:var(--fs-h3);margin:1rem 0 0.4rem}
.badge{display:inline-block;background:var(--card-light);padding:.45em .75em;border-radius:9999px;font-size:.8rem;margin:.2rem .5rem .2rem 0}
.grid{display:grid;gap:1.2rem;margin:1.2rem 0}

/* NAV - Fixed position to stay on top */
body nav {
  position: fixed !important; /* Changed from sticky to fixed */
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  z-index: 1000 !important;
  background: rgba(250, 250, 250, 0.95) !important;
  backdrop-filter: saturate(180%) blur(14px) !important;
  border-bottom: 1px solid #e7e7ea !important;
  width: 100% !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05) !important;
}
nav .shell{
  max-width:var(--maxw);
  margin:auto;
  padding-inline:var(--gap);
}
nav ul{
  margin:0;
  padding:.55rem 0;
  display:flex;
  justify-content:center;
  gap:.8rem;
  list-style:none;
  flex-wrap:wrap;
}
nav a{
  font-size:.84rem;
  color:var(--text);
  padding:.42em .95em;
  border-radius:9px;
  transition:.25s;
  white-space:nowrap;
}
nav a:hover{background:var(--card-light)}
nav a.active{background:var(--accent);color:#fff}
nav .cta{background:var(--cta);color:#fff;font-weight:600;border-radius:20px}
nav .cta:hover{background:var(--cta-hover)}
@media(max-width:480px){
  nav ul{gap:.4rem;justify-content:space-between;padding:.7rem 0}
  nav a{padding:.4em .6em;font-size:.78rem;}
}

/* Add padding to account for the fixed nav */
body {
  padding-top: 50px;
}

/* HERO */
.hero{text-align:center;padding:5.5rem var(--gap) 3.3rem;background:#fff}
.hero h1{font-size:var(--fs-hero);font-weight:700;margin:0 0 .9rem;overflow-wrap:break-word}
.hero p{font-size:1.03rem;color:var(--muted);max-width:38ch;margin:0 auto 1rem}
.trophy{font-size:3.4rem;margin-bottom:1.2rem}
.button{display:inline-block;background:var(--cta);color:#fff;font-weight:600;padding:.75em 1.6em;border-radius:40px;margin-top:1.4rem;transition:.25s}
.button:hover{background:var(--cta-hover);transform:translateY(-2px);text-decoration:none}

/* HERO CTA BOX - Improved */
.hero-cta-box {
  background: rgba(40, 167, 69, 0.08);
  border: 1px solid rgba(40, 167, 69, 0.2);
  border-radius: var(--radius);
  padding: 1.2rem;
  margin: 1.5rem auto 0;
  max-width: 380px; /* Reduced from 500px */
  text-align: center;
  box-shadow: 0 4px 12px rgba(40, 167, 69, 0.08);
}
.hero-cta-box h3 {
  color: var(--cta);
  margin-top: 0;
  font-size: 1.1rem;
  font-weight: 700;
}
.hero-cta-box ul {
  list-style: none;
  padding-left: 0;
  margin: 0.8rem 0 0.5rem;
  display: inline-block;
  text-align: left;
}
.hero-cta-box li {
  position: relative;
  padding-left: 1.4em;
  margin-bottom: 0.5rem;
  font-weight: 500;
  font-size: 0.95rem; /* Slightly smaller font */
}
.hero-cta-box li::before {
  content: 'âœ“';
  position: absolute;
  left: 0;
  color: var(--cta);
  font-weight: bold;
}

/* ACCORDIONS ------------------------------------------------------------- */
details{background:var(--card-light);border-radius:var(--radius);margin:0.8rem 0;border:1px solid #e1e1e5}
summary{cursor:pointer;padding:1rem 2.2rem;font-weight:600;position:relative}
summary::marker,summary::-webkit-details-marker{display:none}   /* hide native triangle */
summary::before{
  content:'+';position:absolute;left:1.2rem;top:50%;translate:0 -50%;
  font-weight:700;color:var(--accent)
}
/* Fix for double disclosure indicators */
details summary {
  list-style: none;
}
details summary::-webkit-details-marker {
  display: none;
}
/* For Firefox */
details summary::marker {
  display: none;
}
details[open] summary::before{content:'â€“'}
details[open]{background:#eaf0ff}
details>div{padding:0.6rem 2.2rem 1rem}
details ul{list-style:none;margin:0.4rem 0;padding:0}
details li{padding-left:1.05em;position:relative;margin:0.3rem 0}
details li::before{content:'â€“';position:absolute;left:0;color:var(--accent)}

/* FOOTER */
.back{text-align:center;margin:3.3rem 0 3.8rem;font-size:.88rem}

/* anchor offset */
section[id]{scroll-margin-top:80px} /* Increased for the fixed nav */

/* WEEKEND FLOW */
.weekend-flow{margin:1rem 0}
.weekend-flow p{margin:0.3rem 0}
.weekend-flow .badge{min-width:120px;text-align:center;margin-bottom:.5rem}

/* WINNER PERKS */
.winner-perks{margin:1rem 0}
.winner-perks p{margin:0.3rem 0;padding-left:1.2em;position:relative}
.winner-perks p::before{content:'â€¢';position:absolute;left:0;color:var(--accent)}

/* HIGHLIGHTS */
.highlights-list{columns:2;max-width:620px;gap:1.5rem;margin:0.8rem 0}
.highlights-list li{margin-bottom:0.5rem}

/* Fix for the resources section bullet alignment */
.highlights-list li {
  position: relative;
  break-inside: avoid;
}

/* CATEGORIES */
.leagues-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 0.8rem;
  margin: 1.2rem 0;
}
.league-item {
  background: var(--card-light);
  padding: 0.8rem;
  border-radius: var(--radius);
  text-align: center;
  font-size: 0.9rem;
  font-weight: 500;
}
.emoji {
  margin-right: 0.5rem;
}

/* SPONSORS */
.sponsor-category {
  margin-bottom: 1.2rem;
}
.sponsor-row {
  display: flex;
  flex-wrap: wrap;
  gap: 0.6rem;
  margin-top: 0.8rem;
}
.sponsor-name {
  background: var(--card-light);
  padding: 0.5rem 1rem;
  border-radius: var(--radius);
  font-size: 0.9rem;
  transition: transform 0.2s;
}
.sponsor-name:hover {
  transform: translateY(-2px);
}

/* INFO SECTION */
.info-section {
  background: rgba(0, 122, 255, 0.05);
  border: 1px solid rgba(0, 122, 255, 0.1);
  border-radius: var(--radius);
  padding: 1.5rem var(--gap);
  margin: 0 0 2rem;
  font-size: 0.95rem;
}
.info-header {
  color: var(--accent);
  font-weight: 600;
  margin-bottom: 0.8rem;
}

/* MOBILE IMPROVEMENTS */
@media(max-width:600px){
  .grid{grid-template-columns:1fr !important}
  .highlights-list{columns:1}
  details>div{padding:.8rem 1.5rem 1rem}
  summary{padding:1rem 1.8rem}
  summary::before{left:.8rem}
  .leagues-grid {grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));}
  .weekend-flow .badge {min-width: 100px;}
  .hero-cta-box {max-width: 320px; padding: 1rem;}
}
</style>
</head>
<body>

<!-- NAV - Simplified for mobile -->
<nav>
  <div class="shell">
    <ul id="nav">
      <li><a href="#overview">Overview</a></li>
      <li><a href="#prizes">Prizes</a></li>
      <li><a href="#how">How to Win</a></li>
      <li><a href="https://docs.google.com/forms/d/e/1FAIpQLScjayml5NCNxtBZUqYAZPUs0s8kKzn57K4dYIc-OKO4Bz-HYg/viewform?usp=sf_link" target="_blank" class="cta">Register</a></li>
    </ul>
  </div>
</nav>

<!-- HERO with prize info in CTA box -->
<header class="hero">
  <div class="wrapper">
    <div class="trophy">ğŸ†</div>
    <h1>Philadelphia Open Innovation Tournament 2025</h1>
    <p>âœ¨ A weekend where bright ideas collide with opportunity.</p>
    
    <!-- New Prize Highlight Box - UPDATED -->
    <div class="hero-cta-box">
      <h3>ğŸ† Prize Opportunities</h3>
      <ul>
        <li>$100K in cloud compute credits</li>
        <li>$25K seed investment</li>
        <li>Startup acceleration</li>
        <li>Investor connections</li>
      </ul>
    </div>
    
    <a class="button" href="https://lu.ma/ydlynk0f" target="_blank">Secure your spot</a>
  </div>
</header>

<main class="wrapper">

<!-- OVERVIEW -->
<section id="overview" class="card">
  <h2>ğŸ“‹ Quick facts</h2>
  <p>Two days. Two hundred innovators. One spotlight. Day 1 is for everyone; Day 2 is a private finale for the <strong>top seven</strong>.</p>

  <div class="grid" style="grid-template-columns:repeat(auto-fill,minmax(250px,1fr));">
    <div><h3>Date & Venue</h3><p>ğŸ“… Oct 25 (10 AMâ€“5 PM) & Oct 26 (10 AMâ€“2 PM)<br><a href="https://goo.gl/maps/19g4pvgp39uAavf48" target="_blank">Racquet Club of Philadelphia</a></p></div>
    <div><h3>Cost</h3><p>ğŸ’¸ $20 pass<br>ğŸ» +$20 Happyâ€‘Hour wristband</p></div>
    <div><h3>Capacity</h3><p>ğŸ‘¥ 200 participants â†’ 7 finalists</p></div>
    <div><h3>Dress code</h3><p>ğŸ•´ï¸ Smart casual (<a href="https://rcop.com/dress-code/" target="_blank">details</a>)</p></div>
  </div>

  <h3>ğŸ—“ï¸ Weekend Flow</h3>
  <div class="weekend-flow">
    <p><span class="badge">Sat 10 AMâ€“12 PM</span> Ideation sprint & AI-powered rapid prototyping</p>
    <p><span class="badge">Sat 12 PMâ€“1 PM</span> Lunch & "From Idea to Business" session (while judges deliberate)</p>
    <p><span class="badge">Sat 1 PMâ€“5 PM</span> 1-minute pitches & participant voting (participants select who advances!)</p>
    <p><span class="badge">Sat 5 PMâ€“7 PM</span> Happyâ€‘Hour with open bar ğŸ»</p>
    <p><span class="badge">Sun 10 AMâ€“2 PM</span> Finalist pitches (inviteâ€‘only)</p>
    <p><span class="badge">Sun 5 PM</span> Winners Announced</p>
  </div>

  <p style="margin-top:1.2rem;color:var(--muted)">2024 sold out â€“ snag your ticket while you can!</p>
</section>

<!-- PRIZES SECTION (moved up in nav, expanded details) - UPDATED WITH LINKS -->
<section id="prizes" class="card">
  <h2>ğŸ† Tournament Prizes</h2>
  
  <div class="winner-perks" style="margin-top:0.8rem">
    <p><strong>AWS Credits:</strong> Up to $100,000 in cloud credits from the <a href="https://aws.amazon.com/activate/activate-landing/" target="_blank">AWS Activate Program</a></p>
    <p><strong>Seed Investment:</strong> $25,000 funding opportunity with <a href="https://nextfabventures.com" target="_blank">NextFab Ventures</a> (including product development for hardware/greentech)</p>
    <p><strong>Gust Launch:</strong> Free incorporation and one year of legal, cap table & fundraising management from <a href="https://gust.com" target="_blank">Gust</a></p>
    <p><strong>Startup Acceleration:</strong> <a href="https://gust.com/mission-control/" target="_blank">Gust Mission Control</a> access for 5 teams (CEO school & mentoring)</p>
    <p><strong>Investor Network:</strong> Direct connections to Philadelphia's top VCs and angels</p>
  </div>
</section>

<!-- HOW TO WIN -->
<section id="how" class="card">
  <h2>ğŸš€ How to Win</h2>
  <p>Five moves the champs used last year â€” tap to expand. ğŸ¥ <a href="https://www.youtube.com/watch?v=FW3Eflph0sQ" target="_blank">5â€‘min guide</a></p>

  <details><summary>Idea Generation ğŸ’¡ â€” Wharton Professor's AI Prompt</summary><div>
    <p>Prof. Ethan Mollick from Wharton recommends this powerful prompt structure for product ideation:</p>
    <pre style="background:#f5f5f5;padding:1rem;border-radius:8px;overflow-x:auto;font-size:0.9rem;line-height:1.4;margin:0.5rem 0;">Generate new product ideas with the following requirements:
  The product will target college students in the United States. It should be a physical good, not a service or software. I'd like a product that could be sold at a retail price of less than about USD 50. The ideas are just ideas. The product need not yet exist, nor may it necessarily be clearly feasible.
  Follow these steps. Do each step, even if you think you do not need to:
  1.First, generate a list of 100 ideas (short title only).
  2.Second, go through the list and determine whether the ideas are different and bold. Modify the ideas as needed to make them bolder and more different. No two ideas should be the same. This is important!
  3.Next, give the ideas a name and combine it with a product description. The name and idea are separated by a colon and followed by a description. The idea should be expressed as a paragraph of 40â€“80 words.
  Do this step by step!</pre>
    <ul>
      <li>Simply modify the target market, product type, and price point for your needs.</li>
      <li>This structured approach forces the AI to think broadly before refining.</li>
      <li>The step-by-step instructions prevent AI from skipping important ideation stages.</li>
      <li>Requiring uniqueness and boldness pushes past generic first-round ideas.</li>
    </ul>
  </div></details>

  <details><summary>Synthetic Customer Feedback ğŸ—£ï¸ â€” AI as your ideal users</summary><div>
    <p>Recent academic research shows that AI can effectively simulate diverse customer perspectives. Try this prompt structure:</p>
    <pre style="background:#f5f5f5;padding:1rem;border-radius:8px;overflow-x:auto;font-size:0.9rem;line-height:1.4;margin:0.5rem 0;">I'm developing [product name], which is [brief description].
  
  You will now act as my ideal customer persona with these characteristics:
  - Demographics: [age, gender, location, income level]
  - Goals: [what they're trying to accomplish]
  - Pain points: [current frustrations]
  - Values: [what matters most to them]
  
  As this persona, please:
  1. Evaluate my product concept honestly
  2. Tell me what you like and dislike about it
  3. Describe how you would use it in your daily life 
  4. Share how much you would pay for it and why
  5. Explain what would make you choose this over alternatives
  
  Be specific and constructive. Don't hold back criticismâ€”I need authentic feedback.</pre>
    <ul>
      <li>Create 5-7 diverse personas to identify blind spots in your concept.</li>
      <li>Research suggests AI-generated feedback can surface more unique issues than traditional methods.</li>
      <li>Use this approach to rapidly iterate before real customer testing.</li>
      <li>Generate likely objections from different stakeholder groups.</li>
    </ul>
  </div></details>

  <details><summary>Prototyping âš¡ â€” Make a landing page in minutes</summary><div>
    <p>For an example of what can be done with almost no effort see <a href="https://lnupsupz.manus.space" target="_blank">our sample landing page</a> and how it was made by Manus with two prompts â†’ <a href="https://manus.im/share/aoNH8bcsb75aKUUjSPzWJU?replay=1" target="_blank">see the full process here</a>.</p>
    <ul>
      <li>Generate UI mockups, product visualizations, and branding elements.</li>
      <li>Develop marketing copy, documentation, and user guides.</li>
      <li>Create code snippets or entire proof-of-concept applications.</li>
    </ul>
  </div></details>

  <details><summary>Stressâ€‘Test ğŸ›¡ï¸ â€” Debate to improve</summary><div>
    <ul>
      <li>Ask AI to be competitor, skeptic, and regulatorâ€”patch every hole.</li>
      <li>Have AI evaluate your concept against potential competitors.</li>
      <li>Identify technical, operational, or market barriers.</li>
      <li>Use AI to highlight potential compliance issues.</li>
    </ul>
  </div></details>

  <details><summary>Nail the Narrative ğŸ¤ â€” Pitch like a trailer</summary><div>
    <ul>
      <li>Problem â†’ aha â†’ impact. Rehearse Q&A with ChatGPT as the grumpiest investor.</li>
      <li>Have AI help craft a compelling story around your innovation.</li>
      <li>Generate professional slides and visual aids.</li>
      <li>Practice with AI by simulating judge questions.</li>
    </ul>
  </div></details>

  <details open><summary>Recommended AI Toolkit ğŸ”§</summary><div>
    <ul>
      <li>ğŸ“± Smartphone.</li>
      <li>ğŸ¤– <strong>Frontier AI:</strong> ChatGPT Plus, Claude Pro, Gemini Advanced, Mistral Le Chat Pro and/or Deepseek.</li>
      <li>ğŸ› ï¸ <strong>Agentic AI:</strong> Manus for research and quick landing pages.</li>
    </ul>
    <p style="margin-top:0.5rem">We highly recommend using the <strong>paid tiers</strong> of these tools for access to the most advanced models and features.</p>
  </div></details>
</section>

<!-- CATEGORIES SECTION -->
<section id="categories" class="card">
  <h2>ğŸ¢ Competition Categories</h2>
  <p>While you can pitch ideas in any area, these categories are more likely to receive support and funding in Philadelphia's ecosystem:</p>
  
  <div class="leagues-grid">
    <div class="league-item"><span class="emoji">ğŸŒ¿</span>GREENTECH</div>
    <div class="league-item"><span class="emoji">ğŸ“</span>EDTECH</div>
    <div class="league-item"><span class="emoji">ğŸ¥</span>HEALTHCARE</div>
    <div class="league-item"><span class="emoji">âš–ï¸</span>LEGALTECH</div>
    <div class="league-item"><span class="emoji">âš½</span>SPORTSTECH</div>
  </div>
</section>

<!-- SPONSORS SECTION - UPDATED WITH AWS -->
<section id="sponsors" class="card">
  <h2>ğŸ¤ Our Sponsors</h2>
  <p style="font-size:0.9rem;color:var(--muted)">Note: This list will be updated as sponsorships are confirmed for 2025</p>
  
  <div class="sponsor-category">
    <h3>Founding Sponsors</h3>
    <div class="sponsor-row">
      <a href="https://www.sublimestrategy.com/" target="_blank" class="sponsor-name">Sublime Strategy</a>
      <a href="https://bradflaugher.com" target="_blank" class="sponsor-name">Brad Flaugher</a>
      <a href="https://www.ideastogo.com/" target="_blank" class="sponsor-name">Ideas To Go</a>
      <a href="https://nextfabventures.com/" target="_blank" class="sponsor-name">NextFab Ventures</a>
      <a href="https://benfranklin.org/" target="_blank" class="sponsor-name">BFTP</a>
      <a href="https://www.ioassociates.com/" target="_blank" class="sponsor-name">iO associates</a>
    </div>
  </div>
  
  <div class="sponsor-category">
    <h3>Innovation Partners</h3>
    <div class="sponsor-row">
      <a href="https://aws.amazon.com" target="_blank" class="sponsor-name">AWS</a>
      <a href="https://www.lowenstein.com/" target="_blank" class="sponsor-name">Lowenstein Sandler</a>
      <a href="https://inoxoft.com/" target="_blank" class="sponsor-name">Inoxoft</a>
      <a href="https://www.bigideaplatform.com/" target="_blank" class="sponsor-name">Big Idea Platform</a>
      <a href="https://www.claconnect.com/" target="_blank" class="sponsor-name">CLA</a>
      <a href="https://missionog.com/" target="_blank" class="sponsor-name">Mission OG</a>
      <a href="https://www.rccblaw.com/" target="_blank" class="sponsor-name">RCCB Law</a>
      <a href="https://gust.com/" target="_blank" class="sponsor-name">Gust</a>
    </div>
  </div>
</section>

<!-- HIGHLIGHTS SECTION -->
<section id="highlights" class="card">
  <h2>ğŸ“Š 2024 Highlights</h2>
  <ul class="highlights-list">
    <li><a href="https://lu.ma/clcrvyvw" target="_blank">Participant list</a></li>
    <li><a href="https://www.linkedin.com/posts/josh-devon_innovation-philadelphia-entrepreneurship-activity-7256652680134111233-VFiN" target="_blank">Winners</a></li>
    <li><a href="https://innovationphilly.com/guide.pdf" target="_blank">Guide PDF</a></li>
    <li><a href="https://innovationphilly.com/guide.mp3" target="_blank">Audio Brief</a></li>
    <li><a href="https://photos.app.goo.gl/MrFBjVSSjvspUu3k9" target="_blank">Photos</a></li>
  </ul>
  <h2>ğŸ“ Other Resources</h2>
  <ul class="highlights-list">
    <li><a href="https://github.com/Philadelphia-Open-Innovation-Tournament" target="_blank">Openâ€‘source repos</a></li>
    <li><a href="https://www.youtube.com/watch?v=aRZCD8wU5bw" target="_blank">Innovation Tournaments Overview</a></li>
  </ul>
</section>

<!-- MISSION INFO SECTION -->
<div class="info-section">
  <div class="info-header">Our Mission</div>
  <p>"Our goal is to accelerate Philadelphia's growth by spotlighting and empowering the city's most promising innovators."</p>
  <p>The Philadelphia Open Innovation Tournament is inspired by the framework developed by Profs. Karl Ulrich and Christian Terwiesch at UPenn. It brings together diverse minds to solve real-world challenges through friendly competition.</p>
  <p style="margin-top:0.6rem">Join us in this exhilarating journey of innovation and impact. Be part of shaping Philadelphia's future!</p>
</div>

<p class="back"><a href="#top">Back to top â¬†ï¸</a></p>
</main>

<script>
// Enhanced navigation script with improved section detection
document.addEventListener('DOMContentLoaded', function() {
  // Get all navigation links and sections
  const navLinks = Array.from(document.querySelectorAll('#nav a[href^="#"]'));
  const sections = Array.from(document.querySelectorAll('main>section[id]'));
  
  // Function to update active navigation state based on scroll position
  function updateNavigation() {
    // Get current scroll position - adjust the offset value as needed
    const scrollPosition = window.scrollY + 150; // Increased from 100 to 150
    
    // Find the current section by checking which one is currently visible
    // We'll use a better algorithm to determine the "most visible" section
    let mostVisibleSection = null;
    let maxVisibleAmount = 0;
    
    for (let i = 0; i < sections.length; i++) {
      const section = sections[i];
      
      // Get section dimensions
      const rect = section.getBoundingClientRect();
      const sectionTop = rect.top;
      const sectionHeight = rect.height;
      
      // Calculate how much of the section is visible in the viewport
      const visibleTop = Math.max(0, sectionTop);
      const visibleBottom = Math.min(window.innerHeight, sectionTop + sectionHeight);
      const visibleAmount = Math.max(0, visibleBottom - visibleTop);
      
      // If this section has more visible area than previous sections, make it the current one
      if (visibleAmount > maxVisibleAmount) {
        maxVisibleAmount = visibleAmount;
        mostVisibleSection = section;
      }
      
      // Alternative approach: if a section is closer to the top of the viewport, prioritize it
      // This helps when quickly scrolling between sections
      if (sectionTop > -100 && sectionTop < 150) {
        mostVisibleSection = section;
        break; // Prioritize this section if it's near the top of the viewport
      }
    }
    
    // If no section is visible enough, default to using a calculation based on scroll position
    if (!mostVisibleSection && sections.length > 0) {
      // Find section based on scroll position
      for (let i = 0; i < sections.length; i++) {
        const section = sections[i];
        const nextSection = sections[i + 1];
        
        // Get section top position including scroll
        const sectionTop = section.offsetTop - 100;
        const sectionBottom = nextSection ? nextSection.offsetTop - 100 : document.body.scrollHeight;
        
        // If we're between this section's top and the next section's top, this is the active section
        if (scrollPosition >= sectionTop && scrollPosition < sectionBottom) {
          mostVisibleSection = section;
          break;
        }
      }
      
      // If still no section found, use the first one
      if (!mostVisibleSection) {
        mostVisibleSection = sections[0];
      }
    }
    
    // Update active class on navigation links
    if (mostVisibleSection) {
      navLinks.forEach(link => {
        const href = link.getAttribute('href').slice(1);
        link.classList.toggle('active', href === mostVisibleSection.id);
      });
    }
  }
  
  // Initialize navigation on page load
  updateNavigation();
  
  // Add scroll event listener with throttling for performance
  let scrollTimeout;
  window.addEventListener('scroll', function() {
    if (!scrollTimeout) {
      scrollTimeout = setTimeout(function() {
        updateNavigation();
        scrollTimeout = null;
      }, 50); // Reduced from 100ms to 50ms for more responsive updates
    }
  });
  
  // Add click handlers for smooth scrolling
  navLinks.forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      const targetId = this.getAttribute('href');
      const targetSection = document.querySelector(targetId);
      if (targetSection) {
        // Smooth scroll to target
        window.scrollTo({
          top: targetSection.offsetTop - 70, // Offset to account for fixed nav
          behavior: 'smooth'
        });
        
        // Update active navigation after scroll
        setTimeout(updateNavigation, 500);
      }
    });
  });
});
</script>
</body>
</html>